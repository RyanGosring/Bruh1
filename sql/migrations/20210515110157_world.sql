DROP PROCEDURE IF EXISTS add_migration;
delimiter ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20210515110157');
IF v=0 THEN
INSERT INTO `migrations` VALUES ('20210515110157');
-- Add your query below.

-- Stratholme - Wrath Phantom (credit cmangos)
UPDATE `creature_template` SET `faction` = 21, `base_attack_time` = 2000, `base_attack_time` = 2000, `dmg_school` = 5 WHERE `entry` = 10389;

-- Stratholme - Spiteful Phantom (credit cmangos)
UPDATE `creature_template` SET  `faction` = 21, `base_attack_time` = 2000, `base_attack_time` = 2000, `dmg_school` = 4 WHERE `entry` = 10388;

-- Stratholme - Runed Demonic Blade (credit cmangos)
UPDATE `gameobject_template` SET `size` = 2, `data0` = 1634, `data1` = 18015 WHERE `entry` = 181207;
UPDATE `gameobject_loot_template` SET `entry` = 18015 WHERE `entry` = 181207 and `item` = 22736;

-- The Barrens - Rathorian (credit cmangos)
UPDATE `creature_template` SET `dmg_school` = 5 WHERE `entry` = 3470;

-- Elwynn Forest - Fargodeep Mine - Narg the Taskmaster / Goldtooth (credit cmangos)
UPDATE `creature` SET `position_x` = -9733.9384765625, `position_y` = 115.4759368896484375, `position_z` = 24.58680152893066406, `orientation` = 1.514374375343322753, `wander_distance` = 1, `movement_type` = 1 WHERE `guid` = 80647;
UPDATE `creature` SET `position_x` = -9745.591796875, `position_y` = 87.60213470458984375, `position_z` = 12.82021617889404296, `orientation` = 1.686997294425964355, `wander_distance` = 1, `movement_type` = 1 WHERE `guid` = 80644;

-- Westfall - Dust Devil 
UPDATE `creature` SET `position_x` = -11115.1083984375, `position_y` = 617.48870849609375, `position_z` = 37.60480499267578125, `orientation` = 4.004544258117675781, `wander_distance` = 45 WHERE `guid` = 48554;
UPDATE `creature` SET `position_x` = -10853.8818359375, `position_y` = 1680.4129638671875, `position_z` = 38.925048828125, `orientation` = 0.142995312809944152, `wander_distance` = 45 WHERE `guid` = 48555;
UPDATE `creature` SET `position_x` = -10617.1201171875, `position_y` = 818.68927001953125, `position_z` = 52.3733062744140625, `orientation` = 5.45745706558227539, `wander_distance` = 45 WHERE `guid` = 48556;
UPDATE `creature` SET `position_x` = -10214.4453125, `position_y` = 1778.2261962890625, `position_z` = 37.64616775512695312, `orientation` = 2.300807952880859375, `wander_distance` = 45 WHERE `guid` = 48557;
UPDATE `creature` SET `position_x` = -9916.6640625, `position_y` = 1612.09716796875, `position_z` = 40.00242996215820312, `orientation` = 1.225921034812927246, `wander_distance` = 45 WHERE `guid` = 48558;
UPDATE `creature` SET `position_x` = -10378.87890625, `position_y` = 1520.283447265625, `position_z` = 41.82687759399414062, `orientation` = 2.586306571960449218, `wander_distance` = 45 WHERE `guid` = 48872;
UPDATE `creature` SET `position_x` = -10549.564453125, `position_y` = 1852.3331298828125, `position_z` = 41.20833587646484375, `orientation` = 3.901455879211425781, `wander_distance` = 45 WHERE `guid` = 48873;
UPDATE `creature` SET `position_x` = -10215.8642578125, `position_y` = 888.76055908203125, `position_z` = 41.97357559204101562, `orientation` = 4.637966156005859375, `wander_distance` = 45 WHERE `guid` = 48874;
INSERT INTO `creature` (`guid`, `id`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecsmin`, `spawntimesecsmax`, `health_percent`, `mana_percent`, `movement_type`, `wander_distance`, `patch_max`) VALUES
(154, 832, -3716.850830078125, -1917.6165771484375, 91.7601318359375, 5.458455085754394531, 300, 300, 100, 0, 1, 45, 10),
(155, 832, -3449.927001953125, -1917.60009765625, 95.30474090576171875, 1.559170365333557128, 300, 300, 100, 0, 1, 45, 10),
(170, 832, -3783.507080078125, -2184.351318359375, 93.82526397705078125, 0.88516998291015625, 300, 300, 100, 0, 1, 45, 10),
(173, 832, -3449.927001953125, -1917.60009765625, 95.30474090576171875, 1.559170365333557128, 300, 300, 100, 0, 1, 45, 10);

-- Noboru the Cudgel Waypoints (credit cmangos)
UPDATE `creature` SET `position_x` = -10141.78125, `position_y` = -3501.775146484375, `position_z` = 23.06176376342773437, `orientation` = 3.31115579605102539, `wander_distance` = 0, `movement_type` = 0 WHERE `guid` = 43589;
UPDATE `creature` SET `position_x` = -10146.423828125, `position_y` = -3505.00439453125, `position_z` = 23.02414512634277343, `orientation` = 2.316309928894042968, `wander_distance` = 0, `movement_type` = 0 WHERE `guid` = 43590;
UPDATE `creature` SET `position_x` = -10146.3828125, `position_y` = -3500.4365234375, `position_z` = 23.08516883850097656, `orientation` = 3.328068971633911132, `movement_type` = 2 WHERE `guid` = 43588;
INSERT INTO `creature_movement_template` (`entry`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `script_id`) VALUES
(5477, 1, -10199.28125, -3489.0244140625, 22.89615440368652343, 100, 0, 0),
(5477, 2, -10208.9814453125, -3470.27783203125, 23.36289024353027343, 100, 0, 0),
(5477, 3, -10218.23828125, -3447.069580078125, 22.50715446472167968, 100, 0, 0),
(5477, 4, -10217.212890625, -3422.0703125, 20.87409400939941406, 100, 0, 0),
(5477, 5, -10212.0126953125, -3382.2548828125, 23.25324440002441406, 100, 0, 0),
(5477, 6, -10210.7939453125, -3339.044677734375, 24.30500602722167968, 100, 0, 0),
(5477, 7, -10208.2080078125, -3308.25341796875, 22.02155876159667968, 100, 0, 0),
(5477, 8, -10212.1845703125, -3288.988525390625, 20.03130912780761718, 100, 0, 0),
(5477, 9, -10179.041015625, -3269.541015625, 22.29747200012207031, 100, 0, 0),
(5477, 10, -10151.513671875, -3240.291259765625, 20.44405174255371093, 100, 0, 0),
(5477, 11, -10135.18359375, -3221.2890625, 22.11031723022460937, 100, 0, 0),
(5477, 12, -10111.1806640625, -3191.95947265625, 20.99517822265625, 100, 0, 0),
(5477, 13, -10116.873046875, -3159.724853515625, 23.36187744140625, 100, 0, 0),
(5477, 14, -10152.5146484375, -3146.046142578125, 20.62872314453125, 100, 0, 0),
(5477, 15, -10168.91015625, -3113.720703125, 22.32606887817382812, 100, 0, 0),
(5477, 16, -10202.677734375, -3103.907470703125, 24.04048919677734375, 100, 0, 0),
(5477, 17, -10240.646484375, -3097.669189453125, 21.9894256591796875, 100, 0, 0),
(5477, 18, -10282.701171875, -3092.743896484375, 23.1742401123046875, 100, 0, 0),
(5477, 19, -10309.5048828125, -3074.629150390625, 23.08895301818847656, 100, 0, 0),
(5477, 20, -10331.9814453125, -3065.276123046875, 23.26966094970703125, 100, 0, 0),
(5477, 21, -10319.2578125, -3044.580810546875, 22.30823516845703125, 100, 0, 0),
(5477, 22, -10300.271484375, -3007.030029296875, 21.12286567687988281, 100, 0, 0),
(5477, 23, -10294.0673828125, -2991.93359375, 22.43688011169433593, 100, 0, 0),
(5477, 24, -10272.6298828125, -2989.186767578125, 22.01354026794433593, 100, 0, 0),
(5477, 25, -10239.630859375, -2988.478515625, 22.00403594970703125, 100, 0, 0),
(5477, 26, -10219.9150390625, -2974.809814453125, 19.83499908447265625, 100, 0, 0),
(5477, 27, -10189.126953125, -2962.115478515625, 22.09839057922363281, 100, 0, 0),
(5477, 28, -10178.8720703125, -2963.053955078125, 23.43799018859863281, 100, 0, 0),
(5477, 29, -10189.126953125, -2962.115478515625, 22.09839057922363281, 100, 0, 0),
(5477, 30, -10219.9150390625, -2974.809814453125, 19.83499908447265625, 100, 0, 0),
(5477, 31, -10239.5234375, -2988.482666015625, 22.01819610595703125, 100, 0, 0),
(5477, 32, -10272.6298828125, -2989.186767578125, 22.01354026794433593, 100, 0, 0),
(5477, 33, -10294.0673828125, -2991.93359375, 22.43688011169433593, 100, 0, 0),
(5477, 34, -10300.271484375, -3007.030029296875, 21.12286567687988281, 100, 0, 0),
(5477, 35, -10319.2578125, -3044.580810546875, 22.30823516845703125, 100, 0, 0),
(5477, 36, -10331.9814453125, -3065.276123046875, 23.26966094970703125, 100, 0, 0),
(5477, 37, -10309.5048828125, -3074.629150390625, 23.08895301818847656, 100, 0, 0),
(5477, 38, -10282.701171875, -3092.743896484375, 23.1742401123046875, 100, 0, 0),
(5477, 39, -10240.646484375, -3097.669189453125, 21.9894256591796875, 100, 0, 0),
(5477, 40, -10202.677734375, -3103.907470703125, 24.04048919677734375, 100, 0, 0),
(5477, 41, -10168.91015625, -3113.720703125, 22.32606887817382812, 100, 0, 0),
(5477, 42, -10152.5146484375, -3146.046142578125, 20.62872314453125, 100, 0, 0),
(5477, 43, -10116.873046875, -3159.724853515625, 23.36187744140625, 100, 0, 0),
(5477, 44, -10111.1806640625, -3191.95947265625, 20.99517822265625, 100, 0, 0),
(5477, 45, -10135.18359375, -3221.2890625, 22.11031723022460937, 100, 0, 0),
(5477, 46, -10151.513671875, -3240.291259765625, 20.44405174255371093, 100, 0, 0),
(5477, 47, -10179.041015625, -3269.541015625, 22.29747200012207031, 100, 0, 0),
(5477, 48, -10212.1845703125, -3288.988525390625, 20.03130912780761718, 100, 0, 0),
(5477, 49, -10208.2080078125, -3308.25341796875, 22.02155876159667968, 100, 0, 0),
(5477, 50, -10210.7939453125, -3339.044677734375, 24.30500602722167968, 100, 0, 0),
(5477, 51, -10212.0126953125, -3382.2548828125, 23.25324440002441406, 100, 0, 0),
(5477, 52, -10217.236328125, -3422.067138671875, 20.74958229064941406, 100, 0, 0),
(5477, 53, -10218.26171875, -3447.06640625, 22.42780876159667968, 100, 0, 0),
(5477, 54, -10208.9814453125, -3470.27783203125, 23.36289024353027343, 100, 0, 0),
(5477, 55, -10199.28125, -3489.0244140625, 22.89615440368652343, 100, 0, 0),
(5477, 56, -10174.763671875, -3505.798583984375, 23.74078178405761718, 100, 0, 0);
INSERT INTO `creature_groups` (`leader_guid`, `member_guid`, `dist`, `angle`, `flags`) VALUES
(43588, 43589, 4, 2.35619, 11),
(43588, 43590, 4, 3.92699, 11);


-- End of migration.
END IF;
END??
delimiter ; 
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
