DROP PROCEDURE IF EXISTS add_migration;
delimiter ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20210105165912');
IF v=0 THEN
INSERT INTO `migrations` VALUES ('20210105165912');
-- Add your query below.


-- add creature guid 1927 waypoints
UPDATE `creature` SET `movement_type` = 2 WHERE `guid` = 1927;
INSERT INTO `creature_groups` (`leader_guid`, `member_guid`, `dist`, `angle`, `flags`) VALUES
(1927, 1926, 3, 5, 11);
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `wander_distance`, `script_id`) VALUES
(1927, 1, -11648, 564.524, 49.8145, 100, 40000, 0, 0),
(1927, 2, -11647.8, 560.431, 49.7986, 100, 0, 0, 0),
(1927, 3, -11648.5, 556.272, 49.6992, 100, 0, 0, 0),
(1927, 4, -11649.2, 552.125, 49.397, 100, 0, 0, 0),
(1927, 5, -11649.8, 548.389, 48., 100, 0, 0, 0),
(1927, 6, -11650.2, 544.457, 48.1196, 100, 0, 0, 0),
(1927, 7, -11650.7, 539.54, 47.1855, 100, 0, 0, 0),
(1927, 8, -11651, 536.556, 46.675, 100, 0, 0, 0),
(1927, 9, -11651.4, 532.614, 45.7645, 100, 0, 0, 0),
(1927, 10, -11651.6, 527.973, 44.6754, 100, 0, 0, 0),
(1927, 11, -11651.6, 524.029, 43.888, 100, 0, 0, 0),
(1927, 12, -11651.6, 521.04, 43.5072, 100, 0, 0, 0),
(1927, 13, -11651.6, 516.046, 42.8766, 100, 0, 0, 0),
(1927, 14, -11651.7, 512.981, 42.8064, 100, 0, 0, 0),
(1927, 15, -11651.7, 508.924, 42.7559, 100, 0, 0, 0),
(1927, 16, -11651.7, 504.784, 43.0178, 100, 0, 0, 0),
(1927, 17, -11652.9, 502.812, 42.9839, 100, 0, 0, 0),
(1927, 18, -11652.2, 497.106, 42.8397, 100, 0, 0, 0),
(1927, 19, -11652.2, 491.608, 42.7576, 100, 0, 0, 0),
(1927, 20, -11652.3, 488.555, 42.7559, 100, 0, 0, 0),
(1927, 21, -11652.4, 484.496, 42.7559, 100, 0, 0, 0),
(1927, 22, -11652.6, 480.43, 42.7559, 100, 0, 0, 0),
(1927, 23, -11652.7, 476.371, 42.7559, 100, 0, 0, 0),
(1927, 24, -11652.8, 473.628, 42.7559, 100, 0, 0, 0),
(1927, 25, -11652.9, 469.661, 43.0491, 100, 0, 0, 0),
(1927, 26, -11653, 465.456, 42.9589, 100, 0, 0, 0),
(1927, 27, -11653, 461.189, 42.7559, 100, 0, 0, 0),
(1927, 28, -11653.1, 456.904, 42.7559, 100, 0, 0, 0),
(1927, 29, -11653.1, 452.61, 42.7559, 100, 0, 0, 0),
(1927, 30, -11653.2, 448.313, 42.7559, 100, 0, 0, 0),
(1927, 31, -11653.3, 444.023, 42.7559, 100, 0, 0, 0),
(1927, 32, -11653.5, 439.801, 42.7559, 100, 0, 0, 0),
(1927, 33, -11653.8, 435.711, 42.7559, 100, 0, 0, 0),
(1927, 34, -11654.2, 431.638, 42.7831, 100, 0, 0, 0),
(1927, 35, -11654.5, 427.607, 42.8965, 100, 0, 0, 0),
(1927, 36, -11654.6, 423.805, 43.0327, 100, 0, 0, 0),
(1927, 37, -11654.5, 419.786, 43.0559, 100, 0, 0, 0),
(1927, 38, -11654.5, 415.733, 43.1832, 100, 0, 0, 0),
(1927, 39, -11654.4, 411.67, 43.1231, 100, 0, 0, 0),
(1927, 40, -11654.3, 407.634, 43.0792, 100, 0, 0, 0),
(1927, 41, -11654.2, 403.717, 42.7947, 100, 0, 0, 0),
(1927, 42, -11653.9, 399.67, 42.7345, 100, 0, 0, 0),
(1927, 43, -11653.5, 395.589, 42.7345, 100, 0, 0, 0),
(1927, 44, -11653.2, 391.578, 42.7345, 100, 0, 0, 0),
(1927, 45, -11652.9, 387.553, 42.7345, 100, 0, 0, 0),
(1927, 46, -11652.5, 383.492, 42.7345, 100, 0, 0, 0),
(1927, 47, -11652.1, 378.423, 42.7345, 100, 0, 0, 0),
(1927, 48, -11651.8, 375.373, 42.7345, 100, 0, 0, 0),
(1927, 49, -11653.9, 370.067, 42.707, 100, 0, 0, 0),
(1927, 50, -11657.3, 365.925, 42.7876, 100, 0, 0, 0),
(1927, 51, -11659, 365.541, 42.8716, 100, 0, 0, 0),
(1927, 52, -11662.8, 361.402, 42.436, 100, 0, 0, 0),
(1927, 53, -11666.2, 358.794, 41.7298, 100, 0, 0, 0),
(1927, 54, -11670.2, 355.928, 40.5589, 100, 0, 0, 0),
(1927, 55, -11672.8, 353.61, 39.6698, 100, 0, 0, 0),
(1927, 56, -11674.9, 351.64, 38.8568, 100, 0, 0, 0),
(1927, 57, -11677.7, 348.904, 37.8301, 100, 0, 0, 0),
(1927, 58, -11681.2, 345.445, 36.456, 100, 0, 0, 0),
(1927, 59, -11683.9, 342.72, 35.4498, 100, 0, 0, 0),
(1927, 60, -11686, 340.67, 34.6877, 100, 0, 0, 0),
(1927, 61, -11688.8, 337.898, 34.0637, 100, 0, 0, 0),
(1927, 62, -11691.5, 335.087, 33.1613, 100, 0, 0, 0),
(1927, 63, -11694.3, 332.267, 32.2702, 100, 0, 0, 0),
(1927, 64, -11697.7, 328.724, 31.2628, 100, 0, 0, 0),
(1927, 65, -11699.7, 326.711, 30.1797, 100, 0, 0, 0),
(1927, 66, -11702.2, 324.11, 28.2918, 100, 0, 0, 0),
(1927, 67, -11705, 321.28, 27.2269, 100, 0, 0, 0),
(1927, 68, -11707.7, 318.422, 26.4123, 100, 0, 0, 0),
(1927, 69, -11710.4, 315.51, 25.5946, 100, 0, 0, 0),
(1927, 70, -11713.6, 312.025, 23.8492, 100, 0, 0, 0),
(1927, 71, -11715.6, 309.868, 22.6728, 100, 0, 0, 0),
(1927, 72, -11718.3, 306.991, 21.9164, 100, 0, 0, 0),
(1927, 73, -11721, 304.067, 20.9047, 100, 0, 0, 0),
(1927, 74, -11724.3, 300.95, 19.7354, 100, 0, 0, 0),
(1927, 75, -11727.8, 298.682, 18.9097, 100, 0, 0, 0),
(1927, 76, -11731.7, 296.371, 19.1415, 100, 0, 0, 0),
(1927, 77, -11732.3, 295.979, 19.26, 100, 40000, 0, 0),
(1927, 78, -11734.2, 300.108, 19.5989, 100, 0, 0, 0),
(1927, 79, -11731.9, 302.896, 19.3462, 100, 0, 0, 0),
(1927, 80, -11729.2, 305.239, 19.9795, 100, 0, 0, 0),
(1927, 81, -11726.5, 307.823, 20.9691, 100, 0, 0, 0),
(1927, 82, -11722.9, 311.284, 22.014, 100, 0, 0, 0),
(1927, 83, -11720.8, 313.352, 22.7735, 100, 0, 0, 0),
(1927, 84, -11718, 316.049, 24.1252, 100, 0, 0, 0),
(1927, 85, -11715.2, 318.693, 25.1061, 100, 0, 0, 0),
(1927, 86, -11712.3, 321.438, 25.6473, 100, 0, 0, 0),
(1927, 87, -11709.5, 324.164, 26.6287, 100, 0, 0, 0),
(1927, 88, -11707.8, 326.698, 27.4238, 100, 0, 0, 0),
(1927, 89, -11706.1, 329.927, 28.5408, 100, 0, 0, 0),
(1927, 90, -11702.9, 333.442, 30.0031, 100, 0, 0, 0),
(1927, 91, -11699.7, 336.032, 31.1945, 100, 0, 0, 0),
(1927, 92, -11696.4, 338.913, 32.2855, 100, 0, 0, 0),
(1927, 93, -11694.3, 341.014, 33.1531, 100, 0, 0, 0),
(1927, 94, -11691.6, 343.856, 34.2689, 100, 0, 0, 0),
(1927, 95, -11689, 346.661, 35.2067, 100, 0, 0, 0),
(1927, 96, -11686.3, 349.501, 36.255, 100, 0, 0, 0),
(1927, 97, -11683.7, 352.329, 37.8395, 100, 0, 0, 0),
(1927, 98, -11681, 355.185, 39.0162, 100, 0, 0, 0),
(1927, 99, -11678.4, 358.032, 39.3958, 100, 0, 0, 0),
(1927, 100, -11675.6, 360.975, 40.316, 100, 0, 0, 0),
(1927, 101, -11672.9, 363.794, 41.3899, 100, 0, 0, 0),
(1927, 102, -11669.4, 367.381, 42.4106, 100, 0, 0, 0),
(1927, 103, -11665.8, 368.851, 43.0945, 100, 0, 0, 0),
(1927, 104, -11660.4, 370.641, 43.3318, 100, 0, 0, 0),
(1927, 105, -11658.3, 371.759, 43.1611, 100, 0, 0, 0),
(1927, 106, -11656.9, 373.054, 42.9923, 100, 0, 0, 0),
(1927, 107, -11655.7, 376.154, 42.9468, 100, 0, 0, 0),
(1927, 108, -11655.4, 379.061, 42.903, 100, 0, 0, 0),
(1927, 109, -11655.9, 382.869, 43.0394, 100, 0, 0, 0),
(1927, 110, -11656.6, 386.823, 43.1893, 100, 0, 0, 0),
(1927, 111, -11657.3, 390.811, 43.0623, 100, 0, 0, 0),
(1927, 112, -11658, 394.815, 42.7811, 100, 0, 0, 0),
(1927, 113, -11658.7, 398.825, 42.7957, 100, 0, 0, 0),
(1927, 114, -11659.2, 403.144, 42.7511, 100, 0, 0, 0),
(1927, 115, -11659.5, 407.273, 42.7568, 100, 0, 0, 0),
(1927, 116, -11659.7, 411.342, 42.7902, 100, 0, 0, 0),
(1927, 117, -11659.9, 415.4, 42.7902, 100, 0, 0, 0),
(1927, 118, -11660, 419.707, 42.8045, 100, 0, 0, 0),
(1927, 119, -11659.8, 424.855, 42.7902, 100, 0, 0, 0),
(1927, 120, -11659.6, 427.898, 42.7589, 100, 0, 0, 0),
(1927, 121, -11659.3, 432.915, 42.7902, 100, 0, 0, 0),
(1927, 122, -11658, 437.377, 42.7631, 100, 0, 0, 0),
(1927, 123, -11657.1, 440.371, 42.7559, 100, 0, 0, 0),
(1927, 124, -11655.8, 444.3, 42.7559, 100, 0, 0, 0),
(1927, 125, -11654, 448.651, 42.7559, 100, 0, 0, 0),
(1927, 126, -11651.3, 453.082, 42.7559, 100, 0, 0, 0),
(1927, 127, -11650.7, 453.953, 42.7559, 100, 0, 0, 0),
(1927, 128, -11649.9, 457.277, 42.7559, 100, 0, 0, 0),
(1927, 129, -11648, 460.818, 42.7559, 100, 0, 0, 0),
(1927, 130, -11647.1, 463.574, 42.9979, 100, 0, 0, 0),
(1927, 131, -11646.3, 468.321, 43.1204, 100, 0, 0, 0),
(1927, 132, -11645.9, 471.365, 42.882, 100, 0, 0, 0),
(1927, 133, -11645.5, 474.771, 42.7819, 100, 0, 0, 0),
(1927, 134, -11645.8, 478.676, 42.6096, 100, 0, 0, 0),
(1927, 135, -11646.3, 483.7, 42.8797, 100, 0, 0, 0),
(1927, 136, -11646.3, 487.085, 42.8063, 100, 0, 0, 0),
(1927, 137, -11646, 491.299, 42.7824, 100, 0, 0, 0),
(1927, 138, -11645.9, 495.175, 42.6956, 100, 0, 0, 0),
(1927, 139, -11645.9, 499.328, 43.1499, 100, 0, 0, 0),
(1927, 140, -11646.3, 503.595, 44.4344, 100, 0, 0, 0),
(1927, 141, -11644.8, 503.342, 42.9468, 100, 0, 0, 0),
(1927, 142, -11644.3, 507.6, 42.7559, 100, 0, 0, 0),
(1927, 143, -11646.4, 513.283, 42.8243, 100, 0, 0, 0),
(1927, 144, -11647.7, 518.562, 43.1857, 100, 0, 0, 0),
(1927, 145, -11648.4, 522.808, 43.6831, 100, 0, 0, 0),
(1927, 146, -11649, 526.799, 44.3904, 100, 0, 0, 0),
(1927, 147, -11649.6, 530.736, 45.252, 100, 0, 0, 0),
(1927, 148, -11650.2, 534.624, 46.157, 100, 0, 0, 0),
(1927, 149, -11650.8, 538.507, 47.1561, 100, 0, 0, 0),
(1927, 150, -11651.4, 542.767, 47.8838, 100, 0, 0, 0),
(1927, 151, -11651.6, 546.922, 48.6415, 100, 0, 0, 0),
(1927, 152, -11651.7, 550.947, 49.2409, 100, 0, 0, 0),
(1927, 153, -11651.8, 554.944, 49.7633, 100, 0, 0, 0),
(1927, 154, -11651.9, 560, 49.9236, 100, 0, 0, 0),
(1927, 155, -11651.9, 564.056, 49.9618, 100, 0, 0, 0),
(1927, 156, -11652, 566.686, 49.8779, 100, 0, 0, 0),
(1927, 157, -11652, 567.684, 49.9407, 100, 0, 0, 0);

-- remove duplicate creature
DELETE FROM `creature` WHERE `guid` = 2120;

-- add creature 2106 waypoints
UPDATE `creature` SET `movement_type` = 2 WHERE `guid` = 2106;
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `wander_distance`, `script_id`) VALUES
(2106, 1, -11886.4, 717.058, 26.5422, 100, 0, 0, 0),
(2106, 2, -11889.8, 704.634, 23.9849, 100, 0, 0, 0),
(2106, 3, -11892.2, 669.8, 23.5359, 100, 0, 0, 0),
(2106, 4, -11891.5, 647.343, 24.5366, 100, 0, 0, 0),
(2106, 5, -11896, 636.136, 27.0148, 100, 0, 0, 0),
(2106, 6, -11907.6, 623.033, 23.0755, 100, 0, 0, 0),
(2106, 7, -11915.2, 612.536, 25.759, 100, 0, 0, 0),
(2106, 8, -11922.8, 590.685, 25.8638, 100, 0, 0, 0),
(2106, 9, -11938, 563.534, 23.2595, 100, 0, 0, 0),
(2106, 10, -11953.3, 530.56, 25.0763, 100, 0, 0, 0),
(2106, 11, -11955.2, 460.852, 25.7007, 100, 0, 0, 0),
(2106, 12, -11959.6, 503.932, 23.0031, 100, 0, 0, 0),
(2106, 13, -11946.6, 545.659, 26.1063, 100, 0, 0, 0),
(2106, 14, -11929.7, 577.678, 25.3999, 100, 0, 0, 0),
(2106, 15, -11918.2, 601.733, 25.0447, 100, 0, 0, 0),
(2106, 16, -11901.7, 628.938, 25.7161, 100, 0, 0, 0),
(2106, 17, -11891.9, 659.596, 23.8133, 100, 0, 0, 0),
(2106, 18, -11891.1, 687.014, 27.5948, 100, 0, 0, 0);

-- correct position for creature 2116
UPDATE `creature` SET `position_x` = -11957.68, `position_y` = 492.454, `position_z` = 0.9470 WHERE `guid` = 2116;

-- add creature 993 waypoints
UPDATE `creature` SET `movement_type` = 2 WHERE `guid` = 993;
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `wander_distance`, `script_id`) VALUES
(993, 1, -11732.4, 660.344, 50.2612, 100, 0, 0, 0),
(993, 2, -11727.5, 620.156, 50.067, 100, 0, 0, 0),
(993, 3, -11721.8, 600.302, 50.7631, 100, 10000, 0, 0),
(993, 4, -11721.1, 592.995, 50.605, 100, 0, 0, 0),
(993, 5, -11722.7, 568.799, 49.7373, 100, 0, 0, 0),
(993, 6, -11724.1, 559.811, 49.7124, 100, 0, 0, 0),
(993, 7, -11730.2, 544.271, 50.7232, 100, 25000, 0, 0),
(993, 8, -11727, 551.575, 49.6198, 100, 0, 0, 0),
(993, 9, -11724.5, 563.319, 49.6013, 100, 0, 0, 0),
(993, 10, -11722.2, 578.377, 49.8528, 100, 0, 0, 0),
(993, 11, -11727.6, 602.999, 50.313, 100, 10000, 0, 0),
(993, 12, -11728.3, 630.117, 50.1834, 100, 0, 0, 0),
(993, 13, -11730.7, 650.193, 50.1513, 100, 0, 0, 0),
(993, 14, -11730.4, 682.613, 49.9042, 100, 0, 0, 0),
(993, 15, -11696.8, 694.008, 49.6749, 100, 12000, 0, 0),
(993, 16, -11692.9, 695.229, 49.844, 100, 0, 0, 0),
(993, 17, -11725, 683.846, 49.5884, 100, 0, 0, 0),
(993, 18, -11730.7, 678.847, 49.7341, 100, 0, 0, 0);


-- End of migration.
END IF;
END??
delimiter ; 
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
