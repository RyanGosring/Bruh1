DROP PROCEDURE IF EXISTS add_migration;
delimiter ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20210303085717');
IF v=0 THEN
INSERT INTO `migrations` VALUES ('20210303085717');
-- Add your query below.


-- allow serpentbloom gameobject to be interacted with
UPDATE `gameobject_template` SET `flags` = 4 WHERE `entry` = 13891;

-- serpentbloom dropchance should be 100%
UPDATE `gameobject_loot_template` SET `ChanceOrQuestChance`= -100 WHERE `entry` = 2772 AND `item` = 5339;

-- scarlet key should not drop from mobs
DELETE FROM `creature_loot_template` WHERE `item` = 7146;

-- add baron longshore spawns
INSERT INTO `creature` (`guid`, `id`, `map`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecsmin`, `spawntimesecsmax`, `health_percent`, `movement_type`, `wander_distance`, `patch_max`) VALUES
(563, 3467, 1, -1748.23, -3722.06, 14.1211, 4.65315, 413, 413, 100, 1, 3, 10),
(564, 3467, 1, -1707.46, -3817.54, 13.3079, 5.51516, 413, 413, 100, 1, 3, 10);
INSERT INTO `pool_template` (`entry`, `max_limit`, `description`, `patch_max`) VALUES
(110, 1, 'Baron Longshore (3467)', 10);
INSERT INTO `pool_creature` (`guid`, `pool_entry`, `description`) VALUES
(15066, 110, 'Baron Longshore #1'),
(563, 110, 'Baron Longshore #2'),
(564, 110, 'Baron Longshore #3');

-- witherbark bloodling, rotting worm, serpentbloom snake and hazzali parasite should not drop loot
DELETE FROM `creature_loot_template` WHERE `entry` IN (7768, 3680);
UPDATE `creature_template` SET `loot_id` = 0 WHERE `entry` IN (3680, 7768);
UPDATE `creature_template` SET `gold_min` = 0, `gold_max` = 0 WHERE `entry`= 7769;
UPDATE `creature_template` SET `gold_min` = 0, `gold_max` = 0 WHERE `entry`= 10925;

-- correct quest chain for mage's wand (1952)
UPDATE `quest_template` SET `PrevQuestId` = 1947, `NextQuestId` = 1952, `ExclusiveGroup` = -1948 WHERE `entry` = 1948;
UPDATE `quest_template` SET `NextQuestId` = 1952, `ExclusiveGroup` = -1948 WHERE `entry` = 1951;
                                                       
-- peaceblooms should only drop in stacks of 3
UPDATE `gameobject_loot_template` SET `maxcount` = 3 WHERE `entry` = 1415 AND `item` = 2447;
     
-- grim reach should increase the range of drain soul (credit jaywalker15262)
UPDATE `spell_affect` SET `SpellFamilyMask` = 6447547418 WHERE `entry` = 18218; 
UPDATE `spell_affect` SET `SpellFamilyMask` = 6447547418 WHERE `entry` = 18219;

-- marsh flesheater and bloodscalp berserker should not flee at low hp
DELETE FROM `creature_ai_scripts` WHERE `id` IN (59702, 75102);
DELETE FROM `creature_ai_events` WHERE `id` IN (59702, 75102);

-- fix waypoint order causing db error
DELETE FROM `creature_movement` WHERE `id` = 7656;
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `wander_distance`, `script_id`) VALUES
(7656, 1, -600.043, -4342.45, 37.8159, 100, 0, 0, 0),
(7656, 2, -599.399, -4324.38, 37.5988, 100, 0, 0, 0),
(7656, 3, -599.657, -4312.29, 37.5986, 100, 0, 0, 0),
(7656, 4, -599.869, -4298.37, 37.811, 100, 0, 0, 0),
(7656, 5, -599.768, -4307.47, 37.5992, 100, 0, 0, 0),
(7656, 6, -599.445, -4319.6, 37.5986, 100, 0, 0, 0),
(7656, 7, -599.705, -4334.79, 37.5988, 100, 0, 0, 0),
(7656, 8, -600.446, -4349.94, 38.131, 100, 0, 0, 0),
(7656, 9, -600.588, -4362.75, 38.8676, 100, 0, 0, 0),
(7656, 10, -601.845, -4378.2, 39.9664, 100, 0, 0, 0),
(7656, 11, -601.612, -4395.27, 42.6652, 100, 0, 0, 0),
(7656, 12, -600.024, -4410.47, 43.5231, 100, 0, 0, 0),
(7656, 13, -594.057, -4427.35, 42.4307, 100, 0, 0, 0),
(7656, 14, -579.457, -4457.44, 41.9763, 100, 0, 0, 0),
(7656, 15, -573.993, -4468.27, 42.2239, 100, 0, 0, 0),
(7656, 16, -570.217, -4476.48, 42.5183, 100, 0, 0, 0),
(7656, 17, -569.013, -4485.33, 42.566, 100, 0, 0, 0),
(7656, 18, -570.17, -4497.38, 42.5664, 100, 0, 0, 0),
(7656, 19, -578.906, -4511.47, 42.5098, 100, 0, 0, 0),
(7656, 20, -581.195, -4514.85, 42.4688, 100, 0, 0, 0),
(7656, 21, -572.172, -4501.6, 42.5659, 100, 0, 0, 0),
(7656, 22, -569.257, -4490.21, 42.5659, 100, 0, 0, 0),
(7656, 23, -569.142, -4481.09, 42.566, 100, 0, 0, 0),
(7656, 24, -571.964, -4472.59, 42.4032, 100, 0, 0, 0),
(7656, 25, -578.171, -4460.08, 41.9867, 100, 0, 0, 0),
(7656, 26, -583.786, -4448.55, 41.618, 100, 0, 0, 0),
(7656, 27, -589.919, -4434.83, 42.0238, 100, 0, 0, 0),
(7656, 28, -597.115, -4418.48, 43.1092, 100, 0, 0, 0),
(7656, 29, -600.253, -4403.03, 43.6641, 100, 0, 0, 0),
(7656, 30, -601.071, -4387.19, 41.4481, 100, 0, 0, 0),
(7656, 31, -600.667, -4370, 39.3044, 100, 0, 0, 0),
(7656, 32, -600.132, -4356.39, 38.4777, 100, 0, 0, 0);

-- defias miners should not roam
UPDATE `creature` SET `movement_type` = 0, `wander_distance` = 0 WHERE `guid` IN (79134, 79129, 79131);

-- misc felwood creature waypoints (credits cmangos)
-- irontree wanderer waypoints
UPDATE `creature` SET `position_x` = 6247.7353515625, `position_y` = -1428.4263916015625, `position_z` = 372.848388671875, `orientation` = 6.010545730590820312, `wander_distance` = 0, `movement_type` = 2 WHERE (`guid` = 40404);
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `script_id`) VALUES
(40404, 1, 6277.28759765625, -1430.1320800781250, 371.479583740234375, 100, 0, 0),
(40404, 2, 6311.31640625000, -1418.3690185546875, 370.920410156250000, 100, 0, 0),
(40404, 3, 6347.72119140625, -1406.9296875000000, 370.226470947265625, 100, 0, 0),
(40404, 4, 6381.65722656250, -1397.1453857421875, 372.732025146484375, 100, 0, 0),
(40404, 5, 6400.54980468750, -1368.8554687500000, 375.349548339843750, 100, 0, 0),
(40404, 6, 6403.59326171875, -1338.7124023437500, 376.245666503906250, 100, 0, 0),
(40404, 7, 6406.61816406250, -1302.8376464843750, 379.275238037109375, 100, 0, 0),
(40404, 8, 6391.43310546875, -1276.8995361328125, 377.708160400390625, 100, 0, 0),
(40404, 9, 6374.75195312500, -1255.0067138671875, 377.691345214843750, 100, 0, 0),
(40404, 10, 6358.87353515625, -1264.5504150390625, 376.368957519531250, 100, 0, 0),
(40404, 11, 6338.12207031250, -1282.9842529296875, 375.423400878906250, 100, 0, 0),
(40404, 12, 6320.03808593750, -1295.4453125000000, 374.089752197265625, 100, 0, 0),
(40404, 13, 6314.09765625000, -1322.1077880859375, 372.734619140625000, 100, 0, 0),
(40404, 14, 6307.93359375000, -1342.6029052734375, 371.820892333984375, 100, 0, 0),
(40404, 15, 6309.79248046875, -1366.9682617187500, 370.690643310546875, 100, 0, 0),
(40404, 16, 6291.48486328125, -1391.0362548828125, 370.601470947265625, 100, 0, 0),
(40404, 17, 6264.08251953125, -1403.0227050781250, 370.785949707031250, 100, 0, 0),
(40404, 18, 6246.17626953125, -1400.0662841796875, 371.182312011718750, 100, 0, 0),
(40404, 19, 6224.86523437500, -1381.3502197265625, 372.770599365234375, 100, 0, 0),
(40404, 20, 6208.11962890625, -1352.8569335937500, 373.663421630859375, 100, 0, 0),
(40404, 21, 6205.57324218750, -1319.9863281250000, 375.186035156250000, 100, 0, 0),
(40404, 22, 6183.48535156250, -1310.5046386718750, 376.180816650390625, 100, 0, 0),
(40404, 23, 6177.60986328125, -1341.6523437500000, 378.402801513671875, 100, 0, 0),
(40404, 24, 6191.50341796875, -1356.6282958984375, 376.490203857421875, 100, 0, 0),
(40404, 25, 6213.85595703125, -1388.9290771484375, 376.022064208984375, 100, 0, 0),
(40404, 26, 6216.53857421875, -1417.7324218750000, 376.061096191406250, 100, 0, 0),
(40404, 27, 6227.54150390625, -1422.9505615234375, 374.079040527343750, 100, 0, 0),
(40404, 28, 6251.54248046875, -1429.4932861328125, 372.512756347656250, 100, 0, 0);

-- irontree wanderer waypoints
UPDATE `creature` SET `position_x` = 6222.74951171875, `position_y` = -1036.6822509765625, `position_z` = 384.851654052734375, `orientation` = 2.659259796142578125, `wander_distance` = 0, `movement_type` = 2 WHERE (`guid` = 40372);
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `script_id`) VALUES
(40372, 1, 6217.42626953125, -1033.8941650390625, 385.736602783203125, 100, 0, 0),
(40372, 2, 6187.26708984375, -1031.9556884765625, 388.043365478515625, 100, 0, 0),
(40372, 3, 6167.78417968750, -1037.4129638671875, 386.164489746093750, 100, 0, 0),
(40372, 4, 6157.58447265625, -1051.5733642578125, 384.522247314453125, 100, 0, 0),
(40372, 5, 6202.52539062500, -1056.6060791015625, 384.030426025390625, 100, 0, 0),
(40372, 6, 6228.21435546875, -1064.7117919921875, 379.415924072265625, 100, 0, 0),
(40372, 7, 6243.53857421875, -1087.5267333984375, 372.002227783203125, 100, 0, 0),
(40372, 8, 6272.58203125000, -1119.2292480468750, 371.723785400390625, 100, 0, 0),
(40372, 9, 6286.56591796875, -1147.2218017578125, 372.018707275390625, 100, 0, 0),
(40372, 10, 6277.05761718750, -1122.4117431640625, 371.157257080078125, 100, 0, 0),
(40372, 11, 6267.55273437500, -1095.6461181640625, 372.742553710937500, 100, 0, 0),
(40372, 12, 6274.65039062500, -1072.2760009765625, 373.657592773437500, 100, 0, 0),
(40372, 13, 6252.39550781250, -1050.0996093750000, 377.647216796875000, 100, 0, 0);

-- irontree wanderer waypoints
UPDATE `creature` SET `position_x` = 6351.22607421875, `position_y` = -1158.6322021484375, `position_z` = 378.2080078125, `orientation` = 2.893534421920776367, `wander_distance` = 0, `movement_type` = 2 WHERE (`guid` = 39403);
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `script_id`) VALUES
(39403, 1, 6320.44824218750, -1157.2048339843750, 373.125823974609375, 100, 0, 0),
(39403, 2, 6304.79101562500, -1155.1674804687500, 371.797943115234375, 100, 0, 0),
(39403, 3, 6285.91503906250, -1146.1176757812500, 372.093902587890625, 100, 0, 0),
(39403, 4, 6274.42871093750, -1116.3331298828125, 371.968658447265625, 100, 0, 0),
(39403, 5, 6268.65820312500, -1094.7922363281250, 372.844848632812500, 100, 0, 0),
(39403, 6, 6277.39794921875, -1126.2410888671875, 370.757232666015625, 100, 0, 0),
(39403, 7, 6288.44921875000, -1150.2950439453125, 371.896759033203125, 100, 0, 0),
(39403, 8, 6307.35937500000, -1170.0670166015625, 371.379669189453125, 100, 0, 0),
(39403, 9, 6322.74023437500, -1179.8054199218750, 372.975372314453125, 100, 0, 0),
(39403, 10, 6338.28515625000, -1181.4447021484375, 375.020660400390625, 100, 0, 0),
(39403, 11, 6351.60937500000, -1169.3515625000000, 377.832183837890625, 100, 0, 0),
(39403, 12, 6375.59716796875, -1172.3223876953125, 382.908447265625000, 100, 0, 0),
(39403, 13, 6408.65185546875, -1183.0606689453125, 388.671295166015625, 100, 0, 0),
(39403, 14, 6398.22900390625, -1172.9368896484375, 387.525390625000000, 100, 0, 0),
(39403, 15, 6373.68603515625, -1162.7875976562500, 383.029968261718750, 100, 0, 0),
(39403, 16, 6347.18652343750, -1157.6191406250000, 377.427490234375000, 100, 0, 0);

-- withered protector waypoints
DELETE FROM `creature_movement` WHERE `id` = 39489;
UPDATE `creature` SET `position_x` = 6177.00244140625, `position_y` = -1322.4649658203125, `position_z` = 376.745574951171875, `orientation` = 5.712565422058105468, `wander_distance` = 0, `movement_type` = 2 WHERE (`guid` = 39489);
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `script_id`) VALUES
(39489, 1, 6185.15234375000, -1343.7993164062500, 376.725067138671875, 100, 0, 0),
(39489, 2, 6200.32617187500, -1366.7636718750000, 376.234222412109375, 100, 0, 0),
(39489, 3, 6213.58203125000, -1397.3676757812500, 376.786224365234375, 100, 0, 0),
(39489, 4, 6238.82275390625, -1411.6781005859375, 372.249816894531250, 100, 0, 0),
(39489, 5, 6282.92724609375, -1406.5512695312500, 370.638153076171875, 100, 0, 0),
(39489, 6, 6308.92675781250, -1406.5107421875000, 370.295410156250000, 100, 0, 0),
(39489, 7, 6357.76123046875, -1402.5406494140625, 370.944976806640625, 100, 0, 0),
(39489, 8, 6384.75878906250, -1391.9262695312500, 373.277069091796875, 100, 0, 0),
(39489, 9, 6400.02685546875, -1363.8469238281250, 375.462341308593750, 100, 0, 0),
(39489, 10, 6408.86425781250, -1339.6072998046875, 376.620666503906250, 100, 0, 0),
(39489, 11, 6412.35302734375, -1313.6425781250000, 379.793548583984375, 100, 0, 0),
(39489, 12, 6401.00830078125, -1279.1103515625000, 379.081146240234375, 100, 0, 0),
(39489, 13, 6423.06054687500, -1268.1513671875000, 381.727508544921875, 100, 0, 0),
(39489, 14, 6434.93457031250, -1250.8417968750000, 385.468994140625000, 100, 0, 0),
(39489, 15, 6442.62841796875, -1225.7047119140625, 390.610412597656250, 100, 0, 0),
(39489, 16, 6436.43652343750, -1204.0917968750000, 392.225036621093750, 100, 0, 0),
(39489, 17, 6417.09570312500, -1190.0581054687500, 389.607818603515625, 100, 0, 0),
(39489, 18, 6398.51123046875, -1175.3861083984375, 387.424316406250000, 100, 0, 0),
(39489, 19, 6371.35644531250, -1160.4316406250000, 382.567321777343750, 100, 0, 0),
(39489, 20, 6341.42480468750, -1165.9105224609375, 375.960937500000000, 100, 0, 0),
(39489, 21, 6309.83740234375, -1170.1279296875000, 371.677032470703125, 100, 0, 0),
(39489, 22, 6292.17626953125, -1151.8521728515625, 371.908599853515625, 100, 0, 0),
(39489, 23, 6275.60986328125, -1129.2808837890625, 370.881866455078125, 100, 0, 0),
(39489, 24, 6268.55273437500, -1107.7753906250000, 371.973052978515625, 100, 0, 0),
(39489, 25, 6255.55175781250, -1078.3288574218750, 374.155670166015625, 100, 0, 0),
(39489, 26, 6235.97705078125, -1054.8540039062500, 380.147094726562500, 100, 0, 0),
(39489, 27, 6208.46093750000, -1035.8273925781250, 386.205352783203125, 100, 0, 0),
(39489, 28, 6181.56445312500, -1042.8249511718750, 385.762756347656250, 100, 0, 0),
(39489, 29, 6160.69287109375, -1056.0562744140625, 385.035186767578125, 100, 0, 0),
(39489, 30, 6151.48144531250, -1069.3056640625000, 386.799530029296875, 100, 0, 0),
(39489, 31, 6137.63525390625, -1090.0291748046875, 378.229827880859375, 100, 0, 0),
(39489, 32, 6124.49414062500, -1103.0477294921875, 378.807159423828125, 100, 0, 0),
(39489, 33, 6101.35400390625, -1113.0875244140625, 381.406036376953125, 100, 0, 0),
(39489, 34, 6079.76611328125, -1119.2377929687500, 383.916290283203125, 100, 0, 0),
(39489, 35, 6047.43066406250, -1141.6207275390625, 380.805419921875000, 100, 0, 0),
(39489, 36, 6022.50488281250, -1147.5133056640625, 380.637664794921875, 100, 0, 0),
(39489, 37, 6000.32568359375, -1154.6774902343750, 382.454803466796875, 100, 0, 0),
(39489, 38, 5998.59960937500, -1180.6269531250000, 377.405456542968750, 100, 0, 0),
(39489, 39, 6012.37695312500, -1203.8945312500000, 375.344726562500000, 100, 0, 0),
(39489, 40, 5998.61328125000, -1180.6386718750000, 377.405456542968750, 100, 0, 0),
(39489, 41, 6000.31445312500, -1154.6894531250000, 382.554046630859375, 100, 0, 0),
(39489, 42, 6022.50488281250, -1147.5133056640625, 380.637664794921875, 100, 0, 0),
(39489, 43, 6047.43066406250, -1141.6207275390625, 380.805419921875000, 100, 0, 0),
(39489, 44, 6079.76611328125, -1119.2377929687500, 383.916290283203125, 100, 0, 0),
(39489, 45, 6101.35400390625, -1113.0875244140625, 381.406036376953125, 100, 0, 0),
(39489, 46, 6124.49414062500, -1103.0477294921875, 378.807159423828125, 100, 0, 0),
(39489, 47, 6137.63525390625, -1090.0291748046875, 378.229827880859375, 100, 0, 0),
(39489, 48, 6151.48144531250, -1069.3056640625000, 386.799530029296875, 100, 0, 0),
(39489, 49, 6160.62207031250, -1056.1816406250000, 385.022247314453125, 100, 0, 0),
(39489, 50, 6181.56445312500, -1042.8249511718750, 385.762756347656250, 100, 0, 0),
(39489, 51, 6208.46093750000, -1035.8273925781250, 386.205352783203125, 100, 0, 0),
(39489, 52, 6235.97705078125, -1054.8540039062500, 380.147094726562500, 100, 0, 0),
(39489, 53, 6255.55175781250, -1078.3288574218750, 374.155670166015625, 100, 0, 0),
(39489, 54, 6268.55273437500, -1107.7753906250000, 371.973052978515625, 100, 0, 0),
(39489, 55, 6275.60986328125, -1129.2808837890625, 370.881866455078125, 100, 0, 0),
(39489, 56, 6292.17626953125, -1151.8521728515625, 371.908599853515625, 100, 0, 0),
(39489, 57, 6309.83740234375, -1170.1279296875000, 371.677032470703125, 100, 0, 0),
(39489, 58, 6341.42480468750, -1165.9105224609375, 375.960937500000000, 100, 0, 0),
(39489, 59, 6371.29785156250, -1160.3854980468750, 382.553894042968750, 100, 0, 0),
(39489, 60, 6398.51123046875, -1175.3861083984375, 387.424316406250000, 100, 0, 0),
(39489, 61, 6417.09570312500, -1190.0581054687500, 389.607818603515625, 100, 0, 0),
(39489, 62, 6436.43652343750, -1204.0917968750000, 392.225036621093750, 100, 0, 0),
(39489, 63, 6442.62841796875, -1225.7047119140625, 390.610412597656250, 100, 0, 0),
(39489, 64, 6435.00195312500, -1250.7199707031250, 385.470703125000000, 100, 0, 0),
(39489, 65, 6423.06054687500, -1268.1513671875000, 381.727508544921875, 100, 0, 0),
(39489, 66, 6401.00830078125, -1279.1103515625000, 379.081146240234375, 100, 0, 0),
(39489, 67, 6412.35302734375, -1313.6425781250000, 379.793548583984375, 100, 0, 0),
(39489, 68, 6408.86425781250, -1339.6072998046875, 376.620666503906250, 100, 0, 0),
(39489, 69, 6400.02685546875, -1363.8469238281250, 375.462341308593750, 100, 0, 0),
(39489, 70, 6384.75878906250, -1391.9262695312500, 373.277069091796875, 100, 0, 0),
(39489, 71, 6357.76123046875, -1402.5406494140625, 370.944976806640625, 100, 0, 0),
(39489, 72, 6308.92675781250, -1406.5107421875000, 370.295410156250000, 100, 0, 0),
(39489, 73, 6282.92724609375, -1406.5512695312500, 370.638153076171875, 100, 0, 0),
(39489, 74, 6238.82275390625, -1411.6781005859375, 372.249816894531250, 100, 0, 0),
(39489, 75, 6213.58203125000, -1397.3676757812500, 376.786224365234375, 100, 0, 0),
(39489, 76, 6200.32617187500, -1366.7636718750000, 376.234222412109375, 100, 0, 0),
(39489, 77, 6185.15234375000, -1343.7993164062500, 376.725067138671875, 100, 0, 0),
(39489, 78, 6178.72363281250, -1323.5697021484375, 376.671417236328125, 100, 0, 0);

-- infernal sentry waypoints
UPDATE `creature` SET `position_x` = 5612.81103515625, `position_y` = -699.7501220703125, `position_z` = 344.02288818359375, `orientation` = 1.724764108657836914, `wander_distance` = 0, `movement_type` = 2 WHERE (`guid` = 39716);
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `script_id`) VALUES
(39716, 1, 5611.21777343750, -682.33380126953125, 343.048278808593750, 100, 0, 0),
(39716, 2, 5603.35253906250, -665.35516357421875, 342.518829345703125, 100, 0, 0),
(39716, 3, 5594.05517578125, -651.81268310546875, 343.268920898437500, 100, 0, 0),
(39716, 4, 5581.98681640625, -645.10424804687500, 344.155151367187500, 100, 0, 0),
(39716, 5, 5556.33496093750, -643.65234375000000, 343.938842773437500, 100, 0, 0),
(39716, 6, 5545.84619140625, -643.51251220703125, 344.999877929687500, 100, 0, 0),
(39716, 7, 5533.26220703125, -639.42370605468750, 346.020568847656250, 100, 0, 0),
(39716, 8, 5524.31494140625, -649.47021484375000, 346.013732910156250, 100, 0, 0),
(39716, 9, 5521.81103515625, -660.44689941406250, 343.919494628906250, 100, 0, 0),
(39716, 10, 5518.46972656250, -667.41687011718750, 344.212585449218750, 100, 0, 0),
(39716, 11, 5522.91259765625, -684.25012207031250, 342.694519042968750, 100, 0, 0),
(39716, 12, 5531.58056640625, -701.45202636718750, 338.325012207031250, 100, 0, 0),
(39716, 13, 5535.43457031250, -713.39483642578125, 340.576629638671875, 100, 0, 0),
(39716, 14, 5554.33447265625, -721.61749267578125, 341.251068115234375, 100, 0, 0),
(39716, 15, 5576.96435546875, -725.52899169921875, 341.345031738281250, 100, 0, 0),
(39716, 16, 5607.78857421875, -731.81591796875000, 341.352294921875000, 100, 0, 0),
(39716, 17, 5612.51660156250, -742.08758544921875, 341.352294921875000, 100, 0, 0),
(39716, 18, 5611.91015625000, -755.62329101562500, 341.718994140625000, 100, 0, 0),
(39716, 19, 5607.65820312500, -768.96679687500000, 344.393005371093750, 100, 0, 0),
(39716, 20, 5593.72265625000, -781.20208740234375, 337.178466796875000, 100, 0, 0),
(39716, 21, 5582.11962890625, -789.13232421875000, 338.653930664062500, 100, 0, 0),
(39716, 22, 5576.75634765625, -793.17187500000000, 344.332885742187500, 100, 0, 0),
(39716, 23, 5560.28369140625, -805.70770263671875, 347.572784423828125, 100, 0, 0),
(39716, 24, 5546.58056640625, -790.70220947265625, 347.902770996093750, 100, 0, 0),
(39716, 25, 5538.34423828125, -776.64727783203125, 346.118103027343750, 100, 0, 0),
(39716, 26, 5526.02490234375, -759.78857421875000, 342.981506347656250, 100, 0, 0),
(39716, 27, 5500.78271484375, -752.68713378906250, 338.267883300781250, 100, 0, 0),
(39716, 28, 5491.79541015625, -750.61413574218750, 335.087188720703125, 100, 0, 0),
(39716, 29, 5470.90673828125, -738.55938720703125, 337.277862548828125, 100, 0, 0),
(39716, 30, 5462.54394531250, -724.53338623046875, 343.084167480468750, 100, 0, 0),
(39716, 31, 5452.41503906250, -700.65606689453125, 343.117980957031250, 100, 0, 0),
(39716, 32, 5455.94238281250, -687.09375000000000, 343.805450439453125, 100, 0, 0),
(39716, 33, 5480.78320312500, -673.29492187500000, 347.544067382812500, 100, 0, 0),
(39716, 34, 5497.20019531250, -673.82507324218750, 346.486938476562500, 100, 0, 0),
(39716, 35, 5508.87109375000, -688.81640625000000, 342.243103027343750, 100, 0, 0),
(39716, 36, 5518.18359375000, -704.43304443359375, 340.368103027343750, 100, 0, 0),
(39716, 37, 5533.98242187500, -715.31225585937500, 340.661834716796875, 100, 0, 0),
(39716, 38, 5554.27343750000, -719.96008300781250, 341.219696044921875, 100, 0, 0),
(39716, 39, 5568.69384765625, -714.23339843750000, 340.600769042968750, 100, 0, 0),
(39716, 40, 5595.24511718750, -709.38085937500000, 342.095031738281250, 100, 0, 0),
(39716, 41, 5612.57031250000, -698.19903564453125, 344.071960449218750, 100, 0, 0);

-- infernal sentry waypoints
UPDATE `creature` SET `position_x` = 5510.49462890625, `position_y` = -966.194580078125, `position_z` = 371.0830078125, `orientation` = 2.849052667617797851, `wander_distance` = 0, `movement_type` = 2 WHERE (`guid` = 40370);
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `script_id`) VALUES
(40370, 1, 5503.42480468750, -949.95532226562500, 368.177001953125000, 100, 0, 0),
(40370, 2, 5494.42724609375, -924.12286376953125, 363.570465087890625, 100, 0, 0),
(40370, 3, 5490.37646484375, -909.92462158203125, 363.059967041015625, 100, 0, 0),
(40370, 4, 5486.58251953125, -896.00732421875000, 362.732269287109375, 100, 0, 0),
(40370, 5, 5482.11572265625, -874.95654296875000, 363.220672607421875, 100, 0, 0),
(40370, 6, 5489.46484375000, -857.83117675781250, 362.114318847656250, 100, 0, 0),
(40370, 7, 5524.01806640625, -831.06555175781250, 354.150695800781250, 100, 0, 0),
(40370, 8, 5542.88183593750, -815.92230224609375, 353.359893798828125, 100, 0, 0),
(40370, 9, 5534.75341796875, -799.99249267578125, 349.919616699218750, 100, 0, 0),
(40370, 10, 5533.18554687500, -778.03515625000000, 346.387268066406250, 100, 0, 0),
(40370, 11, 5536.12548828125, -761.82214355468750, 343.451141357421875, 100, 0, 0),
(40370, 12, 5539.26416015625, -739.93609619140625, 341.744110107421875, 100, 0, 0),
(40370, 13, 5530.24121093750, -719.13836669921875, 340.743103027343750, 100, 0, 0),
(40370, 14, 5510.55273437500, -701.00299072265625, 340.493103027343750, 100, 0, 0),
(40370, 15, 5507.03710937500, -686.41406250000000, 342.993103027343750, 100, 0, 0),
(40370, 16, 5481.05224609375, -676.71997070312500, 346.721801757812500, 100, 0, 0),
(40370, 17, 5462.32080078125, -689.98980712890625, 342.666778564453125, 100, 0, 0),
(40370, 18, 5447.65478515625, -717.07403564453125, 341.479309082031250, 100, 0, 0),
(40370, 19, 5449.93212890625, -744.34259033203125, 342.538940429687500, 100, 0, 0),
(40370, 20, 5454.21093750000, -763.30126953125000, 347.225708007812500, 100, 0, 0),
(40370, 21, 5458.09423828125, -778.99597167968750, 350.938262939453125, 100, 0, 0),
(40370, 22, 5459.67236328125, -802.65368652343750, 357.804565429687500, 100, 0, 0),
(40370, 23, 5460.83007812500, -820.56964111328125, 362.851196289062500, 100, 0, 0),
(40370, 24, 5460.59472656250, -834.04235839843750, 366.311279296875000, 100, 0, 0),
(40370, 25, 5472.11767578125, -859.37738037109375, 364.661926269531250, 100, 0, 0),
(40370, 26, 5478.08007812500, -883.68096923828125, 363.897796630859375, 100, 0, 0),
(40370, 27, 5484.53222656250, -910.72222900390625, 363.882843017578125, 100, 0, 0),
(40370, 28, 5492.72021484375, -940.34582519531250, 365.442443847656250, 100, 0, 0),
(40370, 29, 5508.80468750000, -965.65820312500000, 370.964233398437500, 100, 0, 0);

-- infernal sentry waypoints
UPDATE `creature` SET `position_x` = 5551.94677734375, `position_y` = -917.33270263671875, `position_z` = 377.82763671875, `orientation` = 4.6117706298828125, `wander_distance` = 0, `movement_type` = 2 WHERE (`guid` = 40176);
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `script_id`) VALUES
(40176, 1, 5550.12939453125, -942.60729980468750, 377.223968505859375, 100, 0, 0),
(40176, 2, 5557.38476562500, -951.06860351562500, 376.774261474609375, 100, 0, 0),
(40176, 3, 5557.10400390625, -963.96844482421875, 376.285491943359375, 100, 0, 0),
(40176, 4, 5566.70166015625, -971.49847412109375, 375.634704589843750, 100, 0, 0),
(40176, 5, 5575.80859375000, -985.75097656250000, 372.551818847656250, 100, 0, 0),
(40176, 6, 5575.63818359375, -994.41821289062500, 372.901794433593750, 100, 0, 0),
(40176, 7, 5584.99707031250, -1007.7772216796875, 374.794128417968750, 100, 0, 0),
(40176, 8, 5593.73535156250, -1010.7296142578125, 375.104919433593750, 100, 0, 0),
(40176, 9, 5620.04882812500, -1010.4061279296875, 376.703063964843750, 100, 0, 0),
(40176, 10, 5644.63085937500, -1006.4099121093750, 378.397979736328125, 100, 0, 0),
(40176, 11, 5664.43701171875, -993.83789062500000, 379.326202392578125, 100, 0, 0),
(40176, 12, 5673.82910156250, -980.48632812500000, 379.688201904296875, 100, 0, 0),
(40176, 13, 5673.86669921875, -965.85253906250000, 380.227630615234375, 100, 0, 0),
(40176, 14, 5668.80908203125, -949.18762207031250, 379.193939208984375, 100, 0, 0),
(40176, 15, 5669.03710937500, -935.88500976562500, 378.499359130859375, 100, 0, 0),
(40176, 16, 5664.86962890625, -917.75653076171875, 378.531890869140625, 100, 0, 0),
(40176, 17, 5661.69140625000, -883.04309082031250, 378.940673828125000, 100, 0, 0),
(40176, 18, 5668.22021484375, -874.73675537109375, 378.796630859375000, 100, 0, 0),
(40176, 19, 5656.74414062500, -858.68670654296875, 379.378814697265625, 100, 0, 0),
(40176, 20, 5636.57958984375, -848.38995361328125, 378.777496337890625, 100, 0, 0),
(40176, 21, 5618.34033203125, -846.38537597656250, 378.366882324218750, 100, 0, 0),
(40176, 22, 5602.18798828125, -843.93341064453125, 376.489562988281250, 100, 0, 0),
(40176, 23, 5587.24072265625, -848.98260498046875, 378.331146240234375, 100, 0, 0),
(40176, 24, 5582.13574218750, -854.98321533203125, 379.824676513671875, 100, 0, 0),
(40176, 25, 5577.40185546875, -879.30786132812500, 377.163085937500000, 100, 0, 0),
(40176, 26, 5570.31201171875, -899.25567626953125, 378.261230468750000, 100, 0, 0),
(40176, 27, 5559.97021484375, -907.02661132812500, 378.203796386718750, 100, 0, 0),
(40176, 28, 5551.63720703125, -920.39898681640625, 377.914123535156250, 100, 0, 0);

-- infernal sentry waypoints
UPDATE `creature` SET `position_x` = 5693.01416015625, `position_y` = -726.32708740234375, `position_z` = 376.759002685546875, `orientation` = 4.921559333801269531, `wander_distance` = 0, `movement_type` = 2 WHERE (`guid` = 39486);
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `script_id`) VALUES
(39486, 1, 5682.47167968750, -745.25585937500000, 377.376403808593750, 100, 0, 0),
(39486, 2, 5671.37695312500, -760.92071533203125, 373.176330566406250, 100, 0, 0),
(39486, 3, 5669.99658203125, -779.32452392578125, 373.019042968750000, 100, 0, 0),
(39486, 4, 5665.26025390625, -797.45849609375000, 379.929107666015625, 100, 0, 0),
(39486, 5, 5661.26025390625, -819.67376708984375, 376.263702392578125, 100, 0, 0),
(39486, 6, 5656.24218750000, -833.90301513671875, 377.948028564453125, 100, 0, 0),
(39486, 7, 5657.17675781250, -857.90423583984375, 379.330108642578125, 100, 0, 0),
(39486, 8, 5653.87841796875, -871.68280029296875, 378.878173828125000, 100, 0, 0),
(39486, 9, 5650.34716796875, -899.54333496093750, 376.704467773437500, 100, 0, 0),
(39486, 10, 5662.72412109375, -928.67102050781250, 378.056915283203125, 100, 0, 0),
(39486, 11, 5667.31494140625, -890.80114746093750, 379.170654296875000, 100, 0, 0),
(39486, 12, 5669.29931640625, -858.20019531250000, 378.194244384765625, 100, 0, 0),
(39486, 13, 5682.90527343750, -851.91363525390625, 379.397613525390625, 100, 0, 0),
(39486, 14, 5690.28027343750, -838.49670410156250, 380.132720947265625, 100, 0, 0),
(39486, 15, 5689.85693359375, -802.03613281250000, 382.021270751953125, 100, 0, 0),
(39486, 16, 5703.64257812500, -787.70831298828125, 382.079772949218750, 100, 0, 0),
(39486, 17, 5711.55273437500, -769.34960937500000, 381.604919433593750, 100, 0, 0),
(39486, 18, 5735.09912109375, -766.96112060546875, 383.726715087890625, 100, 0, 0),
(39486, 19, 5752.37988281250, -759.54754638671875, 386.273437500000000, 100, 0, 0),
(39486, 20, 5756.73291015625, -747.83386230468750, 383.677001953125000, 100, 0, 0),
(39486, 21, 5750.39648437500, -731.11907958984375, 380.986389160156250, 100, 0, 0),
(39486, 22, 5730.56005859375, -719.04217529296875, 378.470794677734375, 100, 0, 0),
(39486, 23, 5711.56103515625, -716.31793212890625, 376.761322021484375, 100, 0, 0),
(39486, 24, 5693.67089843750, -729.42089843750000, 376.707153320312500, 100, 0, 0);

-- correct alliance cleansing felwood quest chains 
DELETE FROM `creature_questrelation` WHERE `id` = 9528;
INSERT INTO `creature_questrelation` (`id`, `quest`, `patch_max`) VALUES 
(9528, 4101, 10),
(9528, 5886, 10),
(9528, 4107, 10),
(9528, 5884, 10),
(9528, 4105, 10),
(9528, 5882, 10),
(9528, 4103, 10),
(9528, 5883, 10),
(9528, 4104, 10),
(9528, 5885, 10),
(9528, 4106, 10);

DELETE FROM `creature_involvedrelation` WHERE `id` = 9528;
INSERT INTO `creature_involvedrelation` (`id`, `quest`, `patch_max`) VALUES 
(9528, 4101, 10),
(9528, 5886, 10),
(9528, 4107, 10),
(9528, 5884, 10),
(9528, 4105, 10),
(9528, 5882, 10),
(9528, 4103, 10),
(9528, 5883, 10),
(9528, 4104, 10),
(9528, 5885, 10),
(9528, 4106, 10);

UPDATE `quest_template` SET `PrevQuestId` = 4101 WHERE `entry` IN (5886, 5884, 5882, 5883, 5885);
UPDATE `quest_template` SET `RequiredRaces` = 77 WHERE `entry` IN (4101, 5886, 4107, 5884, 4105, 5882, 4103, 5883, 4104, 5885, 4106);
UPDATE `quest_template` SET `SpecialFlags` = 0 WHERE `entry` IN (5886, 5884, 5882, 5883, 5885);
UPDATE `quest_template` SET `SpecialFlags` = 1 WHERE `entry` IN (4107, 4105, 4103, 4104, 4106);

UPDATE `quest_template` SET `PrevQuestId` = 5886 WHERE `entry` = 4107;
UPDATE `quest_template` SET `PrevQuestId` = 5884 WHERE `entry` = 4105;
UPDATE `quest_template` SET `PrevQuestId` = 5882 WHERE `entry` = 4103;
UPDATE `quest_template` SET `PrevQuestId` = 5883 WHERE `entry` = 4104;
UPDATE `quest_template` SET `PrevQuestId` = 5885 WHERE `entry` = 4106;

-- Correct Horde Cleansing Felwood Quest Chains 
DELETE FROM `creature_questrelation` WHERE `id` = 9529;
INSERT INTO `creature_questrelation` (`id`, `quest`, `patch_max`) VALUES
(9529, 4102, 10),
(9529, 5891, 10),
(9529, 4112, 10),
(9529, 5889, 10),
(9529, 4110, 10),
(9529, 5887, 10),
(9529, 4108, 10),
(9529, 5888, 10),
(9529, 4109, 10),
(9529, 5890, 10),
(9529, 4111, 10);

DELETE FROM `creature_involvedrelation` WHERE `id` = 9529;
INSERT INTO `creature_involvedrelation` (`id`, `quest`, `patch_max`) VALUES
(9529, 4102, 10),
(9529, 5891, 10),
(9529, 4112, 10),
(9529, 5889, 10),
(9529, 4110, 10),
(9529, 5887, 10),
(9529, 4108, 10),
(9529, 5888, 10),
(9529, 4109, 10),
(9529, 5890, 10),
(9529, 4111, 10);

UPDATE `quest_template` SET `PrevQuestId` = 4102 WHERE `entry` IN (5891, 5889, 5887, 5888, 5890);
UPDATE `quest_template` SET `RequiredRaces` = 178 WHERE `entry` IN (4102, 5891, 4112 ,5889, 4110 ,5887, 4108, 5888, 4109, 5890, 4111);
UPDATE `quest_template` SET `SpecialFlags` = 0 WHERE `entry` IN (5891, 5889, 5887, 5888, 5890);
UPDATE `quest_template` SET `SpecialFlags` = 1 WHERE `entry` IN (4112, 4110, 4108, 4109, 4111);

UPDATE `quest_template` SET `PrevQuestId` = 5891 WHERE `entry` = 4112;
UPDATE `quest_template` SET `PrevQuestId` = 5889 WHERE `entry` = 4110;
UPDATE `quest_template` SET `PrevQuestId` = 5887 WHERE `entry` = 4108;
UPDATE `quest_template` SET `PrevQuestId` = 5888 WHERE `entry` = 4109;
UPDATE `quest_template` SET `PrevQuestId` = 5890 WHERE `entry` = 4111;

-- add gazzus spawns (credit cmangos)
UPDATE `creature` SET `position_x` = 1454.1995849609375, `position_y` = -4701.81787109375, `position_z` = -2.62193179130554199, `orientation` = 4.572762489318847656, `wander_distance` = 2, `movement_type` = 1 WHERE (`guid` = 6456);
INSERT INTO `creature` (`guid`, `id`, `map`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecsmin`, `spawntimesecsmax`, `health_percent`, `mana_percent`, `movement_type`, `wander_distance`, `patch_max`) VALUES
(6501, 3204, 1, 1470.4882812500000, -4706.10791015625, 2.220372200012207031, 0.820304751396179199, 300, 300, 100, 100, 1, 2, 10),
(6503, 3204, 1, 1465.775390625, -4683.74462890625, 6.625988483428955078, 5.715672969818115234, 300, 300, 100, 100, 1, 2, 10),
(6502, 3204, 1, 1497.5399169921875, -4744.13720703125, 18.01207923889160156, 6.037305831909179687, 300, 300, 100, 100, 1, 2, 10);
INSERT INTO `pool_template` (`entry`, `max_limit`, `description`, `patch_max`) VALUES
(111, 1, 'Gazz\'uz (3204)', 10);
INSERT INTO `pool_creature` (`guid`, `pool_entry`, `description`) VALUES
(6456, 111, 'Gazz\'uz #1'),
(6501, 111, 'Gazz\'uz #2'),
(6502, 111, 'Gazz\'uz #3'),
(6503, 111, 'Gazz\'uz #4');

-- beached sea creature quests are alliance only
UPDATE `quest_template` SET `RequiredRaces` = 77 WHERE `entry` IN (4732, 4731, 4727, 4725, 4722, 4733, 4730, 4728, 4723);

-- add captain ironhill Spawns (credit cmangos)
UPDATE `creature` SET `position_x` = -1302.0343017578125, `position_y` = -1220.4333496093750, `position_z` = 23.04082870483398437, `orientation` = 4.276056766510009765 WHERE (`guid` = 15850);
INSERT INTO `creature` (`guid`, `id`, `map`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecsmin`, `spawntimesecsmax`, `health_percent`, `movement_type`, `wander_distance`, `patch_max`) VALUES
(15938, 2304, 0, -1299.1328125000000, -1254.1907958984375, 32.20761871337890625, 3.019419670104980468, 300, 300, 100, 0, 0, 10),
(16192, 2304, 0, -1307.1950683593750, -1255.8428955078125, 49.98796463012695312, 5.131268024444580078, 300, 300, 100, 0, 0, 10);
INSERT INTO `pool_template` (`entry`, `max_limit`, `description`, `patch_max`) VALUES
(112, 1, 'Captain Ironhill (2304)', 10);
INSERT INTO `pool_creature` (`guid`, `pool_entry`, `description`) VALUES
(15850, 112, 'Captain Ironhill #1'),
(15938, 112, 'Captain Ironhill #2'),
(16192, 112, 'Captain Ironhill #3');


-- End of migration.
END IF;
END??
delimiter ; 
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
