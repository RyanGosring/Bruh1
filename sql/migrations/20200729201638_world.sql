DROP PROCEDURE IF EXISTS add_migration;
delimiter ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20200729201638');
IF v=0 THEN
INSERT INTO `migrations` VALUES ('20200729201638');
-- Add your query below.


-- gina lang summon imp
UPDATE `creature_template` SET `ai_name` = 'EventAI' WHERE `entry` = 5750;
INSERT INTO `creature_ai_events` (`id`, `creature_id`, `condition_id`, `event_type`, `event_inverse_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action1_script`, `action2_script`, `action3_script`, `comment`) VALUES (575001, 5750, 0, 11, 0, 100, 0, 0, 0, 0, 0, 575001, 0, 0, 'Gina Lang - Summon Imp on Spawn');
INSERT INTO `creature_ai_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (575001, 0, 15, 11939, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Gina Lang - Summon Imp on Spawn');

-- allow doreen beltis to roam
UPDATE `creature` SET `movement_type` = 1, `wander_distance` = 2 WHERE `guid` = 31918;

-- allow jamie nore to roam
UPDATE `creature` SET `movement_type` = 1, `wander_distance` = 2 WHERE `guid` = 31921;

-- allow shelene rhobart to roam
UPDATE `creature` SET `movement_type` = 1, `wander_distance` = 2 WHERE `guid` = 38289;

-- set oliver dwor orientation
UPDATE `creature` SET `orientation` = 4.72669 WHERE `guid` = 38290;

-- remove incorrect deathguard elite
DELETE FROM `creature` WHERE `guid` = 14369;

-- junior apothecary holland - say OOC
UPDATE `creature_template` SET `ai_name` = 'EventAI' WHERE `entry` = 10665;
INSERT INTO `creature_ai_events` (`id`, `creature_id`, `condition_id`, `event_type`, `event_inverse_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action1_script`, `action2_script`, `action3_script`, `comment`) VALUES (1066501, 10665, 0, 1, 0, 100, 1, 10000, 20000, 40000, 60000, 1066501, 0, 0, 'Junior Apothecary Holland - Say OOC');
INSERT INTO `creature_ai_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (1066501, 0, 39, 1066501, 1066502, 0, 0, 0, 0, 0, 4, 50, 50, 0, 0, 0, 0, 0, 0, 0, 'Junior Apothecary Holland - Start Script');
INSERT INTO `event_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (1066501, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 5955, 5956, 5957, 5958, 0, 0, 0, 0, 0, 'Junior Apothecary Holland - Talk');
INSERT INTO `event_scripts` (`id`, `delay`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES (1066502, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 5959, 5960, 5961, 5962, 0, 0, 0, 0, 0, 'Junior Apothecary Holland - Talk');

-- deathguard lundmark waypoints
DELETE FROM creature_movement WHERE id = 32028;
INSERT INTO `creature_movement_template` (`entry`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `wander_distance`, `script_id`) VALUES
(5725, 1, 2257.139893, 494.394989, 34.187599, 100.000000, 0, 0.000000, 0),
(5725, 2, 2260.280029, 531.893982, 33.629799, 100.000000, 0, 0.000000, 0),
(5725, 3, 2261.860107, 544.312988, 33.476501, 100.000000, 0, 0.000000, 0),
(5725, 4, 2253.580078, 561.752991, 33.452202, 100.000000, 0, 0.000000, 0),
(5725, 5, 2247.409912, 580.773987, 33.435501, 100.000000, 0, 0.000000, 0),
(5725, 6, 2237.459961, 602.783997, 33.483898, 100.000000, 0, 0.000000, 0),
(5725, 7, 2220.080078, 629.265015, 33.472000, 100.000000, 0, 0.000000, 0),
(5725, 8, 2196.250000, 662.010010, 33.483002, 100.000000, 0, 0.000000, 0),
(5725, 9, 2169.399902, 691.206970, 33.353199, 100.000000, 0, 0.000000, 0),
(5725, 10, 2138.379883, 716.931030, 32.345501, 100.000000, 0, 0.000000, 0),
(5725, 11, 2108.570068, 743.580994, 30.955999, 100.000000, 0, 0.000000, 0),
(5725, 12, 2098.310059, 756.047974, 31.190599, 100.000000, 0, 0.000000, 0),
(5725, 13, 2091.370117, 787.125000, 30.553301, 100.000000, 0, 0.000000, 0),
(5725, 14, 2090.919922, 815.692993, 29.917000, 100.000000, 0, 0.000000, 0),
(5725, 15, 2100.139893, 863.120972, 29.716299, 100.000000, 0, 0.000000, 0),
(5725, 16, 2109.939941, 898.135986, 30.494600, 100.000000, 0, 0.000000, 0),
(5725, 17, 2120.989990, 929.143005, 29.248301, 100.000000, 0, 0.000000, 0),
(5725, 18, 2132.050049, 963.747986, 29.582800, 100.000000, 0, 0.000000, 0),
(5725, 19, 2141.179932, 999.619995, 29.404699, 100.000000, 0, 0.000000, 0),
(5725, 20, 2162.679932, 1018.000000, 29.211201, 100.000000, 0, 0.000000, 0),
(5725, 21, 2199.340088, 1055.530029, 29.193001, 100.000000, 2000, 0.000000, 0),
(5725, 22, 2168.669922, 1023.479980, 29.403200, 100.000000, 0, 0.000000, 0),
(5725, 23, 2141.179932, 999.619995, 29.404699, 100.000000, 0, 0.000000, 0),
(5725, 24, 2134.290039, 972.130005, 29.787100, 100.000000, 0, 0.000000, 0),
(5725, 25, 2123.500000, 936.500977, 29.076799, 100.000000, 0, 0.000000, 0),
(5725, 26, 2111.310059, 902.299988, 30.567900, 100.000000, 0, 0.000000, 0),
(5725, 27, 2101.219971, 867.338013, 29.772900, 100.000000, 0, 0.000000, 0),
(5725, 28, 2091.649902, 824.182983, 29.802000, 100.000000, 0, 0.000000, 0),
(5725, 29, 2091.080078, 791.596008, 30.479300, 100.000000, 0, 0.000000, 0),
(5725, 30, 2094.800049, 763.593994, 31.061001, 100.000000, 0, 0.000000, 0),
(5725, 31, 2102.669922, 749.760986, 31.062401, 100.000000, 0, 0.000000, 0),
(5725, 32, 2132.179932, 722.150024, 31.944201, 100.000000, 0, 0.000000, 0),
(5725, 33, 2166.290039, 694.059021, 33.336899, 100.000000, 0, 0.000000, 0),
(5725, 34, 2191.649902, 668.653992, 33.507500, 100.000000, 0, 0.000000, 0),
(5725, 35, 2215.510010, 636.028015, 33.472000, 100.000000, 0, 0.000000, 0),
(5725, 36, 2233.659912, 610.585999, 33.497700, 100.000000, 0, 0.000000, 0),
(5725, 37, 2244.090088, 589.393005, 33.444000, 100.000000, 0, 0.000000, 0),
(5725, 38, 2249.939941, 570.192017, 33.452400, 100.000000, 0, 0.000000, 0),
(5725, 39, 2261.129883, 548.794983, 33.435398, 100.000000, 0, 0.000000, 0),
(5725, 40, 2260.770020, 535.776978, 33.615700, 100.000000, 0, 0.000000, 0),
(5725, 41, 2256.209961, 503.880005, 34.220901, 100.000000, 0, 0.000000, 0),
(5725, 42, 2265.209961, 465.052002, 34.016998, 100.000000, 0, 0.000000, 0),
(5725, 43, 2271.989990, 437.566986, 34.011799, 100.000000, 0, 0.000000, 0),
(5725, 44, 2279.560059, 406.157013, 33.992199, 100.000000, 0, 0.000000, 0),
(5725, 45, 2284.600098, 370.091003, 34.200100, 100.000000, 0, 0.000000, 0),
(5725, 46, 2285.060059, 353.890991, 34.207901, 100.000000, 0, 0.000000, 0),
(5725, 47, 2280.459961, 338.681000, 34.229500, 100.000000, 0, 0.000000, 0),
(5725, 48, 2263.949951, 301.769012, 34.238701, 100.000000, 0, 0.000000, 0),
(5725, 49, 2247.669922, 274.217010, 34.238701, 100.000000, 0, 0.000000, 0),
(5725, 50, 2225.570068, 257.500000, 34.151199, 100.000000, 0, 0.000000, 0),
(5725, 51, 2186.429932, 236.591995, 35.834499, 100.000000, 0, 0.000000, 0),
(5725, 52, 2168.110107, 221.505005, 40.217400, 100.000000, 0, 0.000000, 0),
(5725, 53, 2162.790039, 203.151993, 42.780499, 100.000000, 0, 0.000000, 0),
(5725, 54, 2159.899902, 183.179001, 42.045300, 100.000000, 0, 0.000000, 0),
(5725, 55, 2138.350098, 167.317993, 38.459499, 100.000000, 0, 0.000000, 0),
(5725, 56, 2104.129883, 155.026993, 35.697201, 100.000000, 0, 0.000000, 0),
(5725, 57, 2071.929932, 152.520004, 34.165401, 100.000000, 0, 0.000000, 0),
(5725, 58, 2057.100098, 157.878006, 33.897598, 100.000000, 0, 0.000000, 0),
(5725, 59, 2029.699951, 164.968002, 33.955299, 100.000000, 2000, 0.000000, 0),
(5725, 60, 2049.590088, 160.705994, 33.826199, 100.000000, 0, 0.000000, 0),
(5725, 61, 2064.679932, 154.188995, 34.047501, 100.000000, 0, 0.000000, 0),
(5725, 62, 2096.770020, 153.690002, 35.299500, 100.000000, 0, 0.000000, 0),
(5725, 63, 2127.729980, 162.653000, 37.584599, 100.000000, 0, 0.000000, 0),
(5725, 64, 2156.350098, 177.561005, 41.430500, 100.000000, 0, 0.000000, 0),
(5725, 65, 2161.780029, 195.899994, 42.692600, 100.000000, 0, 0.000000, 0),
(5725, 66, 2164.330078, 215.878006, 41.358101, 100.000000, 0, 0.000000, 0),
(5725, 67, 2177.360107, 230.179001, 37.800301, 100.000000, 0, 0.000000, 0),
(5725, 68, 2215.899902, 251.985001, 34.169701, 100.000000, 0, 0.000000, 0),
(5725, 69, 2240.179932, 266.615997, 34.236401, 100.000000, 0, 0.000000, 0),
(5725, 70, 2260.830078, 296.061005, 34.238701, 100.000000, 0, 0.000000, 0),
(5725, 71, 2276.370117, 329.013000, 34.238701, 100.000000, 0, 0.000000, 0),
(5725, 72, 2284.060059, 347.731995, 34.214298, 100.000000, 0, 0.000000, 0),
(5725, 73, 2285.010010, 363.760010, 34.201900, 100.000000, 0, 0.000000, 0),
(5725, 74, 2281.500000, 395.816986, 34.020500, 100.000000, 0, 0.000000, 0),
(5725, 75, 2273.510010, 431.282013, 33.992199, 100.000000, 0, 0.000000, 0),
(5725, 76, 2266.870117, 458.751007, 34.106800, 100.000000, 0, 0.000000, 0);

-- creature 37920 waypoints
UPDATE `creature` SET `movement_type` = 2 WHERE `guid` = 37920;
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `wander_distance`, `script_id`) VALUES
(37920, 1, 2960.300049, -552.671997, 110.327003, 100.000000, 0, 0.000000, 0),
(37920, 2, 2940.260010, -554.539001, 109.246002, 100.000000, 0, 0.000000, 0),
(37920, 3, 2916.270020, -551.676025, 107.651001, 100.000000, 0, 0.000000, 0),
(37920, 4, 2874.669922, -536.489014, 107.310997, 100.000000, 0, 0.000000, 0),
(37920, 5, 2839.629883, -516.702026, 105.724998, 100.000000, 0, 0.000000, 0),
(37920, 6, 2803.219971, -499.830994, 101.804001, 100.000000, 0, 0.000000, 0),
(37920, 7, 2771.159912, -500.165985, 102.970001, 100.000000, 0, 0.000000, 0),
(37920, 8, 2732.840088, -505.033997, 102.902000, 100.000000, 10000, 0.000000, 0),
(37920, 9, 2760.669922, -500.122009, 103.099998, 100.000000, 0, 0.000000, 0),
(37920, 10, 2796.810059, -496.365997, 101.708000, 100.000000, 0, 0.000000, 0),
(37920, 11, 2812.429932, -499.164001, 102.332001, 100.000000, 0, 0.000000, 0),
(37920, 12, 2818.949951, -498.179993, 102.874001, 100.000000, 16000, 0.000000, 0),
(37920, 13, 2843.719971, -517.034973, 105.977997, 100.000000, 0, 0.000000, 0),
(37920, 14, 2874.600098, -536.226013, 107.318001, 100.000000, 0, 0.000000, 0),
(37920, 15, 2909.050049, -547.642029, 107.349998, 100.000000, 0, 0.000000, 0),
(37920, 16, 2927.899902, -554.754028, 108.464996, 100.000000, 0, 0.000000, 0),
(37920, 17, 2955.810059, -553.453979, 110.042999, 100.000000, 0, 0.000000, 0),
(37920, 18, 2983.709961, -549.755005, 113.184998, 100.000000, 0, 0.000000, 0),
(37920, 19, 3003.409912, -550.632996, 116.003998, 100.000000, 0, 0.000000, 0),
(37920, 20, 3024.500000, -545.387024, 119.128998, 100.000000, 0, 0.000000, 0),
(37920, 21, 3023.489990, -544.492981, 119.115997, 100.000000, 0, 0.000000, 0),
(37920, 22, 3023.489990, -544.492981, 119.115997, 3.281220, 58000, 0.000000, 0),
(37920, 23, 3016.199951, -547.755981, 118.261002, 100.000000, 0, 0.000000, 0),
(37920, 24, 2992.870117, -547.953003, 114.424004, 100.000000, 0, 0.000000, 0);

-- creature 38931 waypoints
INSERT INTO `creature` (`guid`, `id`, `id2`, `id3`, `id4`, `map`, `display_id`, `equipment_id`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecsmin`, `spawntimesecsmax`, `wander_distance`, `health_percent`, `mana_percent`, `movement_type`, `spawn_flags`, `visibility_mod`, `patch_min`, `patch_max`) VALUES
(38931, 1522, 0, 0, 0, 0, 0, 0, 2707.419922, 875.736023, 111.987999, 3.92368, 300, 300, 0, 100, 100, 2, 0, 0, 0, 10);
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `wander_distance`, `script_id`) VALUES
(38931, 1, 2707.419922, 875.736023, 111.987999, 100.000000, 0, 0.000000, 0),
(38931, 2, 2766.189941, 857.533997, 112.612000, 100.000000, 20000, 10, 0),
(38931, 3, 2770.020020, 857.156006, 112.238998, 100.000000, 0, 0.000000, 0),
(38931, 4, 2781.429932, 849.655029, 111.863998, 100.000000, 0, 0.000000, 0),
(38931, 5, 2813.419922, 844.630981, 111.939003, 100.000000, 0, 0.000000, 0),
(38931, 6, 2842.330078, 830.435974, 112.611000, 100.000000, 0, 0.000000, 0),
(38931, 7, 2859.100098, 808.166016, 115.559998, 100.000000, 0, 0.000000, 0),
(38931, 8, 2854.850098, 790.073975, 117.251999, 100.000000, 0, 0.000000, 0),
(38931, 9, 2845.959961, 767.747986, 118.913002, 100.000000, 0, 0.000000, 0),
(38931, 10, 2835.830078, 763.830017, 119.148003, 100.000000, 0, 0.000000, 0),
(38931, 11, 2814.030029, 771.724976, 116.660004, 100.000000, 0, 0.000000, 0),
(38931, 12, 2799.639893, 785.348999, 115.727997, 100.000000, 0, 0.000000, 0),
(38931, 13, 2783.939941, 813.270996, 112.733002, 100.000000, 0, 0.000000, 0),
(38931, 14, 2765.010010, 827.554016, 111.941002, 100.000000, 0, 0.000000, 0),
(38931, 15, 2746.020020, 827.487000, 111.863998, 100.000000, 0, 0.000000, 0),
(38931, 16, 2721.419922, 813.960022, 111.275002, 100.000000, 0, 0.000000, 0),
(38931, 17, 2702.459961, 807.356018, 109.933998, 100.000000, 0, 0.000000, 0),
(38931, 18, 2679.870117, 814.130981, 108.638000, 100.000000, 0, 0.000000, 0),
(38931, 19, 2663.929932, 840.693970, 108.448997, 100.000000, 0, 0.000000, 0),
(38931, 20, 2652.899902, 873.932983, 110.916000, 100.000000, 0, 0.000000, 0),
(38931, 21, 2647.600098, 879.997986, 111.672997, 100.000000, 20000, 10, 0),
(38931, 22, 2615.159912, 916.387024, 107.641998, 100.000000, 0, 0.000000, 0),
(38931, 23, 2649.510010, 940.278015, 112.580002, 100.000000, 0, 0.000000, 0),
(38931, 24, 2679.760010, 931.296021, 111.163002, 100.000000, 0, 0.000000, 0),
(38931, 25, 2701.659912, 898.721985, 111.059998, 100.000000, 0, 0.000000, 0),
(38931, 26, 2707.449951, 875.580994, 111.987999, 100.000000, 0, 0.000000, 0);

-- creature 29903 waypoints
UPDATE `creature` SET `movement_type` = 2 WHERE `guid` = 29903;
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `wander_distance`, `script_id`) VALUES
(29903, 1, 1859.020020, 891.783997, 27.993500, 100.000000, 0, 0.000000, 0),
(29903, 2, 1850.819946, 882.888000, 28.130100, 100.000000, 0, 0.000000, 0),
(29903, 3, 1843.130005, 869.096985, 26.149599, 100.000000, 0, 0.000000, 0),
(29903, 4, 1812.760010, 837.164978, 25.244400, 100.000000, 0, 0.000000, 0),
(29903, 5, 1804.520020, 823.476013, 25.832800, 100.000000, 0, 0.000000, 0),
(29903, 6, 1806.239990, 779.338013, 39.526600, 100.000000, 0, 0.000000, 0),
(29903, 7, 1802.390015, 753.617004, 44.888199, 100.000000, 0, 0.000000, 0),
(29903, 8, 1802.390015, 753.617004, 44.888199, 1.658060, 51000, 0.000000, 0),
(29903, 9, 1802.979980, 765.710999, 43.792900, 100.000000, 0, 0.000000, 0),
(29903, 10, 1804.689941, 777.023987, 40.442600, 100.000000, 0, 0.000000, 0),
(29903, 11, 1801.699951, 810.741028, 29.139099, 100.000000, 0, 0.000000, 0),
(29903, 12, 1805.439941, 825.539978, 25.353600, 100.000000, 0, 0.000000, 0),
(29903, 13, 1814.920044, 838.299011, 25.261101, 100.000000, 0, 0.000000, 0),
(29903, 14, 1838.359985, 860.469971, 25.240101, 100.000000, 0, 0.000000, 0),
(29903, 15, 1848.380005, 877.486023, 27.343700, 100.000000, 0, 0.000000, 0),
(29903, 16, 1869.369995, 907.101013, 28.122801, 100.000000, 0, 0.000000, 0),
(29903, 17, 1875.760010, 925.971008, 28.150900, 100.000000, 0, 0.000000, 0),
(29903, 18, 1878.150024, 952.010986, 28.141300, 100.000000, 20000, 0.000000, 0),
(29903, 19, 1869.650024, 970.164001, 28.148399, 100.000000, 0, 0.000000, 0),
(29903, 20, 1850.760010, 983.796021, 29.467400, 100.000000, 0, 0.000000, 0),
(29903, 21, 1837.310059, 997.562988, 33.660301, 100.000000, 0, 0.000000, 0),
(29903, 22, 1823.459961, 1026.219971, 37.793400, 100.000000, 0, 0.000000, 0),
(29903, 23, 1832.790039, 1059.020020, 38.726799, 100.000000, 0, 0.000000, 0),
(29903, 24, 1833.439941, 1070.630005, 39.581600, 100.000000, 12000, 0.000000, 0),
(29903, 25, 1829.300049, 1105.920044, 39.213200, 100.000000, 0, 0.000000, 0),
(29903, 26, 1835.630005, 1122.930054, 39.658199, 100.000000, 13000, 0.000000, 0),
(29903, 27, 1818.119995, 1132.439941, 42.862900, 100.000000, 8000, 10, 0),
(29903, 28, 1845.739990, 1094.650024, 33.852501, 100.000000, 0, 0.000000, 0),
(29903, 29, 1868.910034, 1081.890015, 27.239000, 100.000000, 0, 0.000000, 0),
(29903, 30, 1872.729980, 1061.390015, 25.738701, 100.000000, 0, 0.000000, 0),
(29903, 31, 1879.030029, 1038.800049, 28.550100, 100.000000, 0, 0.000000, 0),
(29903, 32, 1884.689941, 1035.380005, 28.735001, 100.000000, 0, 0.000000, 0),
(29903, 33, 1911.969971, 1004.710022, 37.462002, 100.000000, 0, 0.000000, 0),
(29903, 34, 1921.869995, 970.908997, 33.409100, 100.000000, 0, 0.000000, 0),
(29903, 35, 1892.479980, 955.893982, 26.544701, 100.000000, 0, 0.000000, 0),
(29903, 36, 1888.310059, 945.713989, 26.054899, 100.000000, 0, 0.000000, 0),
(29903, 37, 1880.130005, 940.296997, 27.764200, 100.000000, 0, 0.000000, 0),
(29903, 38, 1874.640015, 919.437012, 28.116301, 100.000000, 0, 0.000000, 0);
-- End of migration.
END IF;
END??
delimiter ; 
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
