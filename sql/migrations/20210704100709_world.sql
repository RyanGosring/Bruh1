DROP PROCEDURE IF EXISTS add_migration;
delimiter ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20210704100709');
IF v=0 THEN
INSERT INTO `migrations` VALUES ('20210704100709');
-- Add your query below.

-- Fix Dorius Stonetender pathing.
DELETE FROM script_waypoint WHERE entry = '8284';

INSERT INTO script_waypoint (entry, pointid, location_x, location_y, location_z, waittime, point_comment)
VALUES
    ('8284', '0', '-7007.2100', '-1749.1600', '234.1820', '3000', 'stand up'),
    ('8284', '1', '-7006.175781', '-1725.486084', '234.098541', '0', ''),
    ('8284', '2', '-6988.116699', '-1737.010376', '240.703400', '0', ''),
    ('8284', '3', '-6978.589844', '-1736.970215', '241.811249', '0', ''),
	('8284', '4', '-6966.496582', '-1739.455322', '241.971039', '0', ''),
    ('8284', '5', '-6950.186523', '-1741.923584', '241.666855', '0', ''),
    ('8284', '6', '-6934.826172', '-1735.674316', '241.666763', '0', ''),
    ('8284', '7', '-6933.847656', '-1719.740234', '241.867157', '0', ''),
    ('8284', '8', '-6910.731445', '-1717.506104', '241.707642', '0', ''),
    ('8284', '9', '-6878.940430', '-1736.277100', '242.290222', '0', ''),
    ('8284', '10', '-6869.758789', '-1745.934082', '247.846649', '0', ''),
    ('8284', '11', '-6855.519043', '-1750.606934', '251.521683', '5000', 'kneel, catch breath'),
    ('8284', '12', '-6855.519043', '-1750.606934', '251.521683', '0', 'ambush'),
    ('8284', '13', '-6862.075195', '-1720.197632', '251.522018', '0', ''),
    ('8284', '14', '-6840.850586', '-1685.102905', '251.520432', '0', ''),
    ('8284', '15', '-6815.518555', '-1673.619751', '250.598007', '5000', 'say the cauldron'),
    ('8284', '16', '-6815.518555', '-1673.619751', '250.598007', '2000', 'say onward'),
    ('8284', '17', '-6801.599609', '-1694.165283', '257.979065', '0', ''),
    ('8284', '18', '-6780.681152', '-1719.317139', '259.548492', '0', ''),
    ('8284', '19', '-6775.522461', '-1752.579590', '259.195984', '0', ''),
    ('8284', '20', '-6773.040527', '-1792.966187', '256.858063', '5000', 'say quit smoking'),
    ('8284', '21', '-6773.040527', '-1792.966187', '256.858063', '0', 'ambush2'),
    ('8284', '22', '-6749.019531', '-1810.335693', '254.972733', '0', ''),
    ('8284', '23', '-6720.562500', '-1815.629028', '252.596603', '0', ''),
    ('8284', '24', '-6713.429199', '-1813.974121', '251.846542', '1000', 'say run'),
    ('8284', '25', '-6713.429199', '-1813.974121', '251.846542', '0', 'start running'),
    ('8284', '26', '-6694.866699', '-1818.301758', '249.903519', '0', ''),
    ('8284', '27', '-6661.612793', '-1834.632080', '247.608139', '0', ''),
    ('8284', '28', '-6648.858887', '-1851.341797', '246.262299', '0', ''),
    ('8284', '29', '-6607.822754', '-1911.340332', '245.286118', '0', ''),
    ('8284', '30', '-6569.726074', '-1924.519165', '244.163330', '0', ''),
    ('8284', '31', '-6542.296387', '-1941.972046', '244.302689', '0', ''),
    ('8284', '32', '-6527.465820', '-1959.505249', '245.558151', '0', ''),
    ('8284', '33', '-6515.166016', '-1967.040039', '245.798523', '0', ''),
    ('8284', '34', '-6457.688477', '-1968.244873', '245.282471', '0', ''),
    ('8284', '35', '-6439.594238', '-1980.428955', '244.403320', '0', ''),
    ('8284', '36', '-6397.913086', '-1977.174561', '248.086441', '0', ''),
    ('8284', '37', '-6390.395508', '-1972.480591', '248.9', '0', ''),
    ('8284', '38', '-6387.385742', '-1983.494263', '246.722427', '5000', 'take a breather'),
    ('8284', '39', '-6387.385742', '-1983.494263', '246.722427', '30000', 'death');

-- End of migration.
END IF;
END??
delimiter ; 
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
